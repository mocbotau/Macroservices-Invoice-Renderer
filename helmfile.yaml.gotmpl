environments:
  prod:
    values:
      - environment: prod

---
repositories:
  - name: chartmuseum
    url: https://chartmuseum.masterofcubesau.com
    username: {{ requiredEnv "CHARTMUSEUM_USER" }}
    password: {{ requiredEnv "CHARTMUSEUM_PASS" }}

helmDefaults:
  atomic: true
  cleanupOnFail: true
  createNamespace: true
  suppressOutputLineRegex:
    - "version"
  timeout: 60
  wait: true
  waitForJobs: true

releases:
  - name: macroservices
    chart: chartmuseum/generic-app
    version: 0.4.0
    namespace: macroservices-{{ .Environment.Values.environment }}
    values:
      - infra/values.yaml.gotmpl
